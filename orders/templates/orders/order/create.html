{% extends 'shop/base.html' %}
{% load static %}
{% block title %}
    Your Shopping Cart| Checkout
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row" style="margin-top: 6%">
            <div class="col-md-8">

                <div align = "center" style="margin-top: 6%">
                <div class="card border-success mb-3" style="max-width: 18rem;">

                  <div class="card-header bg-info border-success" align = "center">Checkout</b></div>

                  <div class="card-body text-success" align = "center">
                    <hr>
                <form method="post" align = "center">
                  {% csrf_token %}
                  {% for field in form %}
                 <p>
                  <div style="color:blue"> <b>{{ field.label_tag }} </b></div>
                   {{ field }}

                   {% for error in field.errors %}
                     <p style="color: red">{{ error }}</p>
                   {% endfor %}
                 </p>
                {% endfor %}
                  <br>

                  <button class="btn btn-primary btn-lg"  type="submit"  >Signup</button>

                </form>
              </div>

            </div>
            </div>
            </div>

            <div class="col-md-4">
                <div class="page-header">
                    Your Order
                </div>
                <ul class="list-group">
                    {% for item in cart %}
                        <li class="list-group-item">
                        {{ item.quantity }}x {{ item.product.name }}
                        <span>Kshs. {{ item.total_price }}</span>
                        </li>
                    {% endfor %}

                <li class="list-group-item active">Total Cost: kshs. {{ cart.get_total_price }}</li>
                </ul>

            </div>
        </div>
    </div>
{% endblock %}
